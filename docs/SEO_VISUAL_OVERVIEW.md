# SEO Implementation - Visual Overview

This document provides a visual overview of the SEO implementation for ButterGolf.

## ğŸ“ File Structure

```
buttergolf/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ seo-check.yml              # âœ… CI validation workflow
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ mobile/
â”‚   â”‚   â””â”€â”€ app.json                   # âœ… Updated with app linking config
â”‚   â””â”€â”€ web/
â”‚       â”œâ”€â”€ next-sitemap.config.js     # âœ… Sitemap configuration
â”‚       â”œâ”€â”€ package.json               # âœ… Added postbuild script
â”‚       â”œâ”€â”€ public/
â”‚       â”‚   â”œâ”€â”€ .well-known/
â”‚       â”‚   â”‚   â”œâ”€â”€ apple-app-site-association  # âœ… iOS Universal Links
â”‚       â”‚   â”‚   â””â”€â”€ assetlinks.json             # âœ… Android App Links
â”‚       â”‚   â”œâ”€â”€ robots.txt             # âœ… Generated by next-sitemap
â”‚       â”‚   â””â”€â”€ sitemap.xml            # âœ… Generated by next-sitemap
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ app/
â”‚           â”‚   â”œâ”€â”€ page.tsx           # âœ… Added Organization + WebSite JSON-LD
â”‚           â”‚   â”œâ”€â”€ products/[id]/
â”‚           â”‚   â”‚   â””â”€â”€ page.tsx       # âœ… Added Product JSON-LD
â”‚           â”‚   â””â”€â”€ server-sitemap.xml/
â”‚           â”‚       â””â”€â”€ route.ts       # âœ… Dynamic sitemap for products
â”‚           â””â”€â”€ components/
â”‚               â””â”€â”€ seo/
â”‚                   â”œâ”€â”€ SeoJsonLd.tsx  # âœ… JSON-LD helper component
â”‚                   â””â”€â”€ index.ts
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ SEO_IMPLEMENTATION.md          # âœ… Comprehensive documentation
â””â”€â”€ .env.example                       # âœ… Added SITE_URL variable
```

## ğŸ—ºï¸ Sitemap Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     /sitemap.xml (index)            â”‚
â”‚  Generated by next-sitemap          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  /server-sitemap.xml               â”‚
                    â”‚  Dynamic sitemap from database     â”‚
                    â”‚                                    â”‚
                    â”‚  â€¢ Homepage (/)                    â”‚
                    â”‚  â€¢ /sell                           â”‚
                    â”‚  â€¢ /rounds                         â”‚
                    â”‚  â€¢ /products/{id} (all available)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ robots.txt Content

```
# *
User-agent: *
Allow: /
Disallow: /api/
Disallow: /sign-in
Disallow: /sign-up

# Host
Host: https://buttergolf.com

# Sitemaps
Sitemap: https://buttergolf.com/sitemap.xml
Sitemap: https://buttergolf.com/server-sitemap.xml
```

## ğŸ·ï¸ JSON-LD Structured Data

### Home Page (`/`)

```json
[
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "ButterGolf",
    "url": "https://buttergolf.com",
    "logo": "https://buttergolf.com/_assets/logo.png",
    "description": "P2P Marketplace for Golf Equipment"
  },
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "ButterGolf",
    "url": "https://buttergolf.com",
    "description": "Buy and sell golf equipment with fellow golfers",
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https://buttergolf.com/products?q={search_term_string}"
      },
      "query-input": "required name=search_term_string"
    }
  }
]
```

### Product Pages (`/products/[id]`)

```json
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "TaylorMade Driver",
  "description": "Excellent condition driver...",
  "image": ["https://buttergolf.com/uploads/product1.jpg"],
  "brand": {
    "@type": "Brand",
    "name": "TaylorMade"
  },
  "model": "SIM2",
  "offers": {
    "@type": "Offer",
    "url": "https://buttergolf.com/products/123",
    "priceCurrency": "GBP",
    "price": 250.0,
    "availability": "https://schema.org/InStock",
    "itemCondition": "https://schema.org/UsedCondition",
    "seller": {
      "@type": "Person",
      "name": "John Doe"
    }
  },
  "category": "Drivers"
}
```

## ğŸ“± Mobile App Deep Linking

### iOS Configuration

**File:** `public/.well-known/apple-app-site-association`

```json
{
  "applinks": {
    "apps": [],
    "details": [
      {
        "appID": "7T43258YPH.com.buttergolf.app",
        "paths": ["/products/*", "/sell", "/rounds", "/"]
      }
    ]
  },
  "webcredentials": {
    "apps": ["7T43258YPH.com.buttergolf.app"]
  }
}
```

**Expo Config:** `apps/mobile/app.json`

```json
{
  "ios": {
    "bundleIdentifier": "com.buttergolf.app",
    "associatedDomains": [
      "applinks:buttergolf.com",
      "applinks:www.buttergolf.com"
    ]
  }
}
```

### Android Configuration

**File:** `public/.well-known/assetlinks.json`

```json
[
  {
    "relation": ["delegate_permission/common.handle_all_urls"],
    "target": {
      "namespace": "android_app",
      "package_name": "com.buttergolf.app",
      "sha256_cert_fingerprints": ["REPLACE_WITH_YOUR_SHA256_FINGERPRINT"]
    }
  }
]
```

**Expo Config:** `apps/mobile/app.json`

```json
{
  "android": {
    "package": "com.buttergolf.app",
    "intentFilters": [
      {
        "action": "VIEW",
        "autoVerify": true,
        "data": [
          {
            "scheme": "https",
            "host": "buttergolf.com",
            "pathPrefix": "/"
          }
        ],
        "category": ["BROWSABLE", "DEFAULT"]
      }
    ]
  }
}
```

## ğŸ”„ CI/CD Workflow

**File:** `.github/workflows/seo-check.yml`

```
Trigger: Pull requests affecting web app
         Manual workflow dispatch

Steps:
1. Checkout code
2. Setup Node.js & pnpm
3. Install dependencies
4. Build web app (with SITE_URL)
5. âœ… Check sitemap.xml exists
6. âœ… Check robots.txt exists
7. âœ… Validate sitemap XML format
8. âœ… Check robots.txt references sitemap
9. âœ… Check .well-known files exist
10. âœ… Check SeoJsonLd usage on home page
11. ğŸ“Š Display summary
```

## ğŸ“Š Implementation Coverage

| Feature               | Status      | Notes                       |
| --------------------- | ----------- | --------------------------- |
| XML Sitemap (Static)  | âœ… Complete | Auto-generated during build |
| XML Sitemap (Dynamic) | âœ… Complete | Server route for products   |
| robots.txt            | âœ… Complete | References both sitemaps    |
| JSON-LD: Organization | âœ… Complete | Home page                   |
| JSON-LD: WebSite      | âœ… Complete | Home page with SearchAction |
| JSON-LD: Product      | âœ… Complete | Product detail pages        |
| iOS Universal Links   | âœ… Complete | Needs Team ID update        |
| Android App Links     | âœ… Complete | Needs SHA256 fingerprint    |
| CI Validation         | âœ… Complete | Automated checks            |
| Documentation         | âœ… Complete | Full implementation guide   |

## ğŸ¯ Usage Example

### Adding JSON-LD to a New Page

```tsx
import { SeoJsonLd } from "@/components/seo";

export default function MyPage() {
  const jsonLd = {
    "@context": "https://schema.org",
    "@type": "YourSchemaType",
    name: "Your Content",
    // ... more properties
  };

  return (
    <>
      <YourPageContent />
      <SeoJsonLd data={jsonLd} />
    </>
  );
}
```

## âœ… Validation Tools

1. **Sitemap Validation**
   - Visit: `https://buttergolf.com/sitemap.xml`
   - Submit to Google Search Console

2. **Structured Data Testing**
   - Google Rich Results Test: https://search.google.com/test/rich-results
   - Schema.org Validator: https://validator.schema.org/

3. **Deep Linking Testing**
   - iOS: Tap link in Messages/Mail
   - Android: Tap link in browser/app
   - Verify app opens (not browser)

## ğŸ“ˆ Next Steps

1. **Production Setup**
   - [ ] Set `SITE_URL=https://buttergolf.com` in production
   - [ ] Update Apple Team ID in `apple-app-site-association`
   - [ ] Update Android SHA256 fingerprint in `assetlinks.json`
   - [ ] Submit sitemap to Google Search Console
   - [ ] Validate JSON-LD with Google Rich Results Test

2. **Monitoring**
   - [ ] Check Google Search Console for crawl errors
   - [ ] Monitor structured data errors
   - [ ] Track search appearance (rich results)

3. **Expansion**
   - [ ] Add JSON-LD for blog posts (when implemented)
   - [ ] Add JSON-LD for categories (when implemented)
   - [ ] Consider video schema (if product videos added)
   - [ ] Add FAQ schema (if FAQ page added)
