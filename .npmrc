# Hoist dependencies to root to avoid duplication
shamefully-hoist=true

# Ensure all packages use the same React version
dedupe-peer-dependents=true
strict-peer-dependencies=false

# Public hoisting patterns
public-hoist-pattern[]=*react*
public-hoist-pattern[]=*@tamagui*

# CRITICAL: jsdom completely blocked to prevent SharedArrayBuffer errors in React Native
# jsdom, happy-dom, and @vitest/browser contain SharedArrayBuffer which crashes Hermes/JSC engines.
# See package.json pnpm.overrides section and TESTING_SETUP.md for details.
#
# 4-Layer Defense:
#   1. Package Management: jsdom removed from pnpm-workspace.yaml catalog
#   2. pnpm Override: jsdom blocked in package.json pnpm.overrides
#   3. Metro Bundler: Comprehensive blocklist in apps/mobile/metro.config.js
#   4. ESLint Rules: Restricted imports in packages/eslint-config/ prevent accidental usage
#
# If DOM testing is needed in the future, install jsdom ONLY in apps/web/package.json
